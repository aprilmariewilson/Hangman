window.ucs||(window.ucs={}),window.ucs.UH_MAIN_ID||(window.ucs.UH_MAIN_ID="#yucs"),window.ucs.ymreqid||(window.ucs.ymreqid=function(){var a=(new Date).getTime(),b=null,c="xxxxxxxx-xxxx-xxxx-09xx-xxxxxxxxxx00".replace(/x/g,function(){return b=(a+16*Math.random())%16|0,a=Math.floor(a/16),b.toString(16)});return c}),window.ucs._sendBeacon||(window.ucs._sendBeacon=function(a){var b=new Image;b.height=0,b.width=0,b.style.display="none",b.src="https://geo.yahoo.com/t"+a,document.body.appendChild(b)}),window.ucs.YObj||(window.ucs.YObj=function(){var a=document.getElementById("yucs");return"undefined"!=typeof window.Y&&a&&"srp"===a.getAttribute("data-property")?window.Y:YUI()}());YUI.add("gallery-jsonp",function(a){function b(){this._init.apply(this,arguments)}var c=a.Lang.isObject,d=a.Lang.isFunction;b._pattern=/\bcallback=(.*?)(?=&|$)/i,b._template="callback={callback}",b.prototype={_init:function(b,c){this.url=b,c=c||{},d(c)&&(c={on:{success:c}}),c.on=c.on||{},c.on.success||(c.on.success=this._getCallbackFromUrl(b)),this._config=a.merge({on:{},context:this,args:[],format:this._format},c)},_getCallbackFromUrl:function(e){var f,g,h,i,j=e.match(b._pattern);if(j){for(g=a.config.win,h=j[1].split(/\./).reverse(),f=h.shift(),i=h.length-1;i>=0;--i)if(g=g[h[i]],!c(g))return null;if(c(g)&&d(g[f]))return a.bind(g[f],g)}return null},send:function(){function b(a){return d(a)?function(b){delete YUI.Env.JSONP[c],a.apply(e.context,[b].concat(e.args))}:null}if(!this._config.on.success)return this;var c=a.guid().replace(/-/g,"_"),e=this._config,f=e.format.call(this,this.url,"YUI.Env.JSONP."+c);return YUI.Env.JSONP[c]=b(e.on.success),a.Get.script(f,{onFailure:b(e.on.failure),onTimeout:b(e.on.timeout||e.on.failure),timeout:e.timeout}),this},_format:function(a,c){var d,e=b._template.replace(/\{callback\}/,c);return b._pattern.test(a)?a.replace(b._pattern,e):(d=a.slice(-1),"&"!==d&&"?"!==d&&(a+=a.indexOf("?")>-1?"&":"?"),a+e)}},a.JSONPRequest=b,a.jsonp=function(b,c){return new a.JSONPRequest(b,c).send()},YUI.Env.JSONP||(YUI.Env.JSONP={})},"gallery-2010.08.11-20-39",{requires:["get","oop"]});YUI.add("ucs-menu-utils",function(a){if(a.namespace("ucs"),!a.ucs.MenuUtils){var b='{separatorTop}<li class="{isDisabled} {isActive} {menuClass}"><a target="{target}" {actionData} href="{url}" {disabledAria}>{icon}{menuText}</a></li>{separatorBottom}',c='{separatorTop}<li class="{isDisabled} {isActive} {menuClass}"><a href="#" data-customevt="true" {actionData} {disabledAria} {checkedAria}>{icon}{menuText}</a></li>{separatorBottom}',d='<span class="separator" role="presentation"></span>',e="click",f="a",g="role",h="tabIndex",i="yucs-hide",j="iframe",k="ul",l="li",m="parentNode",n="http://l.yimg.com/a/lib/ush/icon.gif",o="https://s.yimg.com/lq/lib/ush/icon.gif",p=300;a.ucs.MenuUtils=function(a,b){var c=b&&b.panelSelector||k;this.menu=a,this.enableClick=b&&b.enableClick,this.panel=this.menu.one(c),this.panel&&this.init(),this.openDelay=b&&"undefined"!=typeof b.openDelay?b.openDelay:p,this.closeTimer=null,this.overPanel=!1,this.overLink=!1},a.ucs.MenuUtils.prototype={init:function(){this.keyedup=!1,this.menu.on("hover",a.bind(this._handleMenuEnter,this),a.bind(this._handleMouseOut,this),this),this.panel.on("hover",a.bind(this._handlePanelEnter,this),a.bind(this._handlePanelLeave,this),this),this.enableClick&&this.menu.on("click",a.bind(this._handleMenuToggle,this),this),this.menu.delegate(e,this._handleMenuItemClick,"li a",this),this.menu.on("keyup",this._handleKeyup,this),this.menu.on("keydown",this._handleKeydown,this),this.menu.removeClass("yucs-activate"),this._initAria()},_initAria:function(){this.menu.one(f).set(g,"button"),this.panel.all(f).set(g,"menuitemradio"),this.panel.set(g,"menu"),this.panel.all("div,ul,li").set(g,"presentation"),a.UA.ipad||a.UA.mobile||this.panel.set(h,-1),this.focusmanager=this.panel.plug(a.Plugin.NodeFocusManager,{descendants:f,keys:{next:"down:40",previous:"down:38"},focusClass:{className:"yucs-has-focus",fn:function(a){return a.get(m)}},circular:!0})},_refreshAria:function(){this.focusmanager.focusManager.refresh()},_destructAria:function(){this.panel.unplug(a.Plugin.NodeFocusManager),this.panel.one(f).set(h,0)},_handleMenuClick:function(a){this.overLink&&this.panel.hasClass(i)&&(this._accessShowMenu(a),this.closeTimer&&(this.closeTimer.cancel(),this.closeTimer=null))},_handleMenuEnter:function(b){b.halt(),this.overLink=!0,a.later(this.openDelay,this,this._handleMenuClick)},_handlePanelEnter:function(){this.closeTimer&&(this.closeTimer.cancel(),this.closeTimer=null),this.overPanel=!0},_handlePanelLeave:function(){this.overPanel=!1,this.panelShown&&this._handleMouseOut()},_handleMenuToggle:function(){this.overLink=this.overLink?!1:!0,this.panelShown?(this.closeTimer&&(this.closeTimer.cancel(),this.closeTimer=null),this.panel.hasClass(i)||(this.closeTimer=a.later(500,this,this._handleLeave))):a.later(this.openDelay,this,this._handleMenuClick)},_handleKeyup:function(a){27===a.keyCode?(this.menu.one(f).focus(),this._hideMenu()):40!==a.keyCode||this.keyedup||(this.panel.one(f).focus(),this.keyedup=!0)},_handleKeydown:function(a){this.panel.hasClass(i)||a.stopPropagation(),40===a.keyCode&&a.preventDefault()},_handleDocumentClick:function(a){return this.panel.contains(a.target)||a.target._node===this.panel._node||this.panel.hasClass(i)||a.target===this.menu.one(">a")||a.target.get("parentNode")===this.menu.one(">a")?void(this.skipBlur=!0):void this._hideMenu()},_accessShowMenu:function(b){this._hideAllMenus(),this._showMenu(b),this.panel.focus(),a.Node.DOM_EVENTS.touchend=!0,this.documentBlurHandle=a.on("blur",function(a){var b=this;this.panel.contains(a.target)||a.target._node===this.panel._node||this.panel.hasClass(i)||(this.skipBlur||(this.timeout=setTimeout(function(){b._hideMenu()},50)),this.skipBlur=!1)},this.panel,this),this.documentFocusHandle=a.on("focus",function(a){this.timeout&&this.panel.hasChildNodes(a.target)&&(clearTimeout(this.timeout),this.timeout=null)},this.panel,this)},_showMenu:function(){this.panel.removeClass(i),this._addIframeShim();var a=this.menu.one(j);a&&a.removeClass(i)},_position:function(){var a=this.menu.get("region");this.panel.hasClass("yucs-menu-right")||this.panel.hasClass("yucs-menu-left")||this.panel.setStyle("left",a[0]),this.panel.setStyle("top",a[1]+13)},_handleMouseOut:function(){this.overLink=!1,this.closeTimer&&(this.closeTimer.cancel(),this.closeTimer=null),this.panel.hasClass(i)||(this.closeTimer=a.later(500,this,this._handleLeave))},_handleLeave:function(){this.overPanel||this.overLink||this._hideMenu()},_hideMenu:function(){this.panel.addClass(i),this.overPanel=!1;var a=this.menu.one(j);a&&a.addClass(i),this.documentBlurHandle&&this.documentBlurHandle.detach(),this.documentFocusHandle&&this.documentFocusHandle.detach(),this.documentClickHandle&&this.documentClickHandle.detach(),this.documentMouseDownHandle&&this.documentMouseDownHandle.detach(),this.documentTouchEndHandle&&this.documentTouchEndHandle.detach(),this.keyedup=!1},_hideAllMenus:function(){var b=a.all("yucs-menu iframe"),c=a.one("#yucs-top-menu");this._hideMenu(),c&&c.one("ul")&&(c.one("ul").addClass(i),a.one("#yucs-more").removeClass("yucs-menu-active")),b.addClass(i)},_addIframeShim:function(){var b,c=a.all("select"),d=a.UA.ie<=6;d&&0!==c.size()&&(b=this.menu.one(j),b||(b=document.createElement(j),b=this.panel.get(m).insertBefore(b,this.panel)),b.className="yucs-shim",b.setStyle("position","absolute"),b.setStyle("width",this.panel.getComputedStyle("width")),b.setStyle("height",this.panel.getComputedStyle("height")),b.setStyle("top",this.panel.getY()+"px"),b.setStyle("border","0px none"),this.menu.hasClass("yucs-help")||b.setStyle("left",0),b.frameBorder=0)},_addMenuGroups:function(a,b,c){for(var d=this.menu.one(k),e="",f=d.get("children")._nodes.length?!0:!1,g=0,h=a.length;h>g;g++){var i=a[g].length;"bottom"===b?a[g][0].separatorTop=!0:(h-1>g||f)&&(a[g][i-1].separatorBottom=!0),e+=this._addMenuGroup(a[g],c)}"bottom"===b?d.append(e):d.prepend(e)},_addMenuGroup:function(a,b){for(var c="",d=0,e=a.length;e>d;d++)b?(a[d].isDebugItem=!0,a[d].menuClass="debug-item"):(a[d].isDebugItem=!1,a[d].menuClass="minty-item"),c+=this._addMenuItem(a[d]);return c},_addMenuItem:function(d){var e="";switch(d.checkedAria=d.isActive?'aria-checked="true"':"",d.disabledAria=d.isDisabled?'aria-disabled="true"':"",d.actionType){case"link":e=a.substitute(b,d,this._processTemplateValue);break;case"customEvent":e=a.substitute(c,d,this._processTemplateValue)}return e&&(e=d.isDebugItem?e.replace(/separator/,"separator debug-item"):e.replace(/separator/,"separator minty-item")),e},_clearMenuItem:function(a){this.menu.one(k).all("."+a).each(function(a){a.remove(!0)})},_processTemplateValue:function(b,c,e){a.log("key = "+b+" value = "+c+" meta_data = "+e);var f="",g="https:"===document.location.protocol?o:n;switch(b){case"icon":void 0!==c&&(f="available"===c?'<img src="'+g+'" class="yucs-opi available"/>':"offline"===c?'<img src="'+g+'" class="yucs-opi offline"/>':"invisible"===c?'<img src="'+g+'" class="yucs-opi invisible"/>':"busy"===c?'<img src="'+g+'" class="yucs-opi busy"/>':"idle"===c?'<img src="'+g+'" class="yucs-opi idle"/>':'<img src="'+c+'" />');break;case"separatorTop":c&&(f=d);break;case"separatorBottom":c&&(f=d);break;case"actionData":c&&(f='data-mad="'+c+'"');break;case"isDisabled":c&&(f="disabled");break;case"isActive":c&&(f="sp active");break;case"checkedAria":f=c;break;default:f=c}return f},_resetItemStatus:function(a){var b,c=a.ancestor(k).all(l),d=a.ancestor(k).all("li.disabled");c.removeClass("sp active"),d.removeClass("disabled"),a.getAttribute("data-dis")&&(b=a.ancestor(l),b.addClass("disabled")),a.getAttribute("data-hs")&&(b=a.ancestor(l),b.addClass("sp active"))},_handleMenuItemClick:function(a){a.target}}}},"1.0",{requires:["node","event","event-hover","event-custom","substitute","node-focusmanager"]}),function(){var a=document.getElementById("yucs");a&&window.ucs.YObj.use("node","ucs-menu-utils",function(a){var b=a.one("#yucs").all("li.yucs-menu.yucs-activate");b.each(function(b){new a.ucs.MenuUtils(b)})})}();!function(){function a(a){switch(a){case"tr-tr":return[" "];case"es-cl":case"nl-nl":case"ta-in":case"zh-hant-cn":case"hi-in":case"kn-in":return["-"];case"de-at":case"de-ch":case"de-de":case"fi-fi":case"nb-no":case"pl-pl":case"ro-ro":case"ru-ru":return["."];default:return["/"]}}function b(a){switch(a){case"en-ae":case"en-au":case"en-ca":case"en-ie":case"en-in":case"en-my":case"en-nz":case"en-ph":case"en-sg":case"en-us":case"es-us":case"ja-jp":case"sv-se":return[e,g,f,g,d].join("");case"ro-ro":case"fi-fi":case"pl-pl":case"en-gb":case"th-th":case"en-ie":case"tr-tr":case"vi-vn":return[f,g,e,g,c].join("");case"zh-hant-cn":case"zh-hant-tw":return[d,g,e,g,f].join("");default:return[f,g,e,g,d].join("")}}var c="%Y",d="%y",e="%m",f="%d",g="_",h=document.getElementById("yucs")&&document.getElementById("yucs").getAttribute("data-lang").toLowerCase()||"en-us";window.ucs||(window.ucs={}),window.ucs.getLocalDateFormat=function(c){c=c.toLowerCase();var d=a(c),e=b(c);return e.replace(new RegExp(g,"g"),d)},window.ucs.localeDateFormat=window.ucs.getLocalDateFormat(h)}();window.ucs.YObj.use("datatype-date",function(){}),YUI.add("ucs-timestamp-library",function(a){a.namespace("ucs.Timestamp"),a.ucs.Timestamp={getTimeStamp:function(b){var c,d,e,f,g,h="AM",i=a.one("#yucs"),j=b.dateRef||new Date,k=b.date,l=b.locale?b.locale:i.getAttribute("data-lang"),m=k.getTime(),n=k.getDate(),o=j.getDate(),p=j.getTime(),q=p-m,r=o-n,s=!0,t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return s=/^en-us$/i.test(l),q=parseInt(q/1e3,10),d=k.getMonth(),e=k.getHours(),f=k.getMinutes(),g=p-(60*j.getHours()*60*1e3+60*j.getMinutes()*1e3+1e3*j.getSeconds()+j.getMilliseconds()),10>f&&(f="0"+f),e>=12&&(h="PM"),e>12&&(e-=12),b.type&&"short"===b.type&&a.DataType&&a.DataType.Date?0===r?c=e+":"+f+" "+h:(/^th-th$/i.test(l)&&k.setFullYear(k.getFullYear()+543),c=a.DataType.Date.format(k,{format:window.ucs.localeDateFormat}).replace(/\b0(?=\d)/g,"")):s?0===r?60>q?c=q>1?q+" secs ago":q+" sec ago":3600>q?(q=Math.ceil(q/60,10),c=2>q?q+" min ago":q+" mins ago"):86400>q&&(q=Math.ceil(q/3600),c=q>1?q+" hours ago":q+" hour ago"):c=864e5>g-m&&0!==r?"Yesterday "+e+":"+f+" "+h:t[d]+" "+n+"&nbsp;&nbsp;"+e+":"+f+" "+h:c=t[d]+" "+n+"&nbsp;&nbsp;"+e+":"+f+" "+h,c}}},"1.0",{requires:["node","datatype-date"]});YUI.add("ucs-logodebug",function(a){a.namespace("ucs");var b=document.getElementById("imageCheck"),c=document.getElementById("yucs-logo-ani"),d=!1;-1!==navigator.userAgent.toLowerCase().indexOf("msie")&&(d=!0),(b&&0===b.offsetWidth&&void 0===b.readyState||b&&0===b.offsetWidth&&"uninitialized"===b.readyState||d&&b&&"uninitialized"===b.readyState||d&&b&&void 0===b.readyState)&&(c.style.visibility="visible",c.style.position="relative"),a.ucs.LogoDebug=function(a){a.on("click",this._handleClick,this),this.publish("ucs:logoDebug",{broadcast:2,emitFacade:!0})},a.ucs.LogoDebug.prototype={_handleClick:function(a){a.altKey&&(a.halt(),this.fire("ucs:logoDebug"))}},a.Global.on("ucs:themeChange",function(){a.later(11,this,function(){a.one("#animator")&&a.one("#animator").setStyle("display","none"),a.one("#yucs-logo-ani")&&(a.one("#yucs-logo-ani").setStyle("position","relative"),a.one("#yucs-logo-ani").setStyle("visibility","visible"),a.one(".lt #yucs-logo-ani")?a.one(".lt #yucs-logo-ani").setStyle("backgroundPosition","-350px 0 !important"):a.one("#yucs-logo-ani").setStyle("backgroundPosition","0% 0% !important"))})}),a.Global.on("ucs:playLogo",function(){"undefined"!=typeof Aniden&&Aniden.play&&Aniden.play()}),a.augment(a.ucs.LogoDebug,a.EventTarget)},"1.0",{requires:["node"]}),function(){window.ucs.YObj.use("node","ucs-logodebug",function(a){var b=a.one("#yucs-logo");if(b){new a.ucs.LogoDebug(b)}})}();YUI.add("ucs-switch-theme",function(a){"use strict";a.namespace("ucs"),a.ucs.SwitchTheme=function(a){this.init(a)},a.ucs.SwitchTheme.prototype={init:function(a){this.container=a},_getTheme:function(){return this.container.hasClass("lt")?"light":"dark"},_setTheme:function(a){"light"===a?this.container.addClass("lt"):"dark"===a&&this.container.removeClass("lt")}}}),window.ucs.YObj.use("node","ucs-switch-theme",function(a){if(window.ucs.UhTheme){var b=a.one("#yucs");window.ucs.UhTheme=new a.ucs.SwitchTheme(b),window.ucs.UhTheme.getTheme=function(){return window.ucs.UhTheme._getTheme()},window.ucs.UhTheme.setTheme=function(a){return window.ucs.UhTheme._setTheme(a)}}});window.ucs&&window.ucs.YObj&&function(a){YUI.add("ucs-meta",function(a){"use strict";if(a.namespace("ucs"),a.ucs.Meta)return void a.log("Y.ucs.Meta is already defined.","debug","ucs-meta");var b=null,c=function(b){return a.version>="3.5.1"?b.getData():{beacon:b.getAttribute("data-beacon"),authstate:b.getAttribute("data-authState"),cobrand:b.getAttribute("data-cobrand"),crumb:b.getAttribute("data-crumb"),mccrumb:b.getAttribute("data-mc-crumb"),gta:b.getAttribute("data-gta"),device:b.getAttribute("data-device"),experience:b.getAttribute("data-experience"),firstname:b.getAttribute("data-firstname"),flight:b.getAttribute("data-flight"),forcecobrand:b.getAttribute("data-forcecobrand"),guid:b.getAttribute("data-guid"),host:b.getAttribute("data-host"),https:b.getAttribute("data-https"),languagetag:b.getAttribute("data-languagetag"),property:b.getAttribute("data-property"),protocol:b.getAttribute("data-protocol"),shortfirstname:b.getAttribute("data-shortfirstname"),shortuserid:b.getAttribute("data-shortuserid"),status:b.getAttribute("data-status"),spaceid:b.getAttribute("data-spaceid"),test_id:b.getAttribute("data-test_id"),userid:b.getAttribute("data-userid"),style:b.getAttribute("data-style")}};a.ucs.Meta=function(a){b=this,b.components={meta:a},b.data=c(a),b.imgBeacon()},a.ucs.Meta.prototype={imgBeacon:function(){var c,d;"1"===b.beacon()&&(d="https://www.yahoo.com/_td_api/beacon/info?"+a.QueryString.stringify({site:"fp",src:"uhlegacy",property:b.property(),ucsdevice:b.device(),exp:b.experience(),host:b.host(),lang:b.languagetag(),cobrand:b.cobrand(),forecobrand:b.forcecobrand(),_rnd:(new Date).getTime().toString().substr(7)}),c=new window.Image,c.src=d)},authState:function(){return a.Object.getValue(b.data,"authstate")},beacon:function(){return a.Object.getValue(b.data,"beacon")},cobrand:function(){return a.Object.getValue(b.data,"cobrand")},crumb:function(){return a.Object.getValue(b.data,"crumb")},mccrumb:function(){return a.Object.getValue(b.data,"mccrumb")},gta:function(){return a.Object.getValue(b.data,"gta")},device:function(){return a.Object.getValue(b.data,"device")},experience:function(){return a.Object.getValue(b.data,"experience")},find:function(b){return a.one(a.Lang.sub("#yucs-{component}",{component:b}))},firstname:function(){return a.Object.getValue(b.data,"firstname")},flight:function(){return a.Object.getValue(b.data,"flight")},forcecobrand:function(){return a.Object.getValue(b.data,"forcecobrand")},guid:function(){return a.Object.getValue(b.data,"guid")},host:function(){return a.Object.getValue(b.data,"host")},https:function(){return a.Object.getValue(b.data,"https")},languagetag:function(){return a.Object.getValue(b.data,"languagetag")},property:function(){return a.Object.getValue(b.data,"property")},protocol:function(){return a.Object.getValue(b.data,"protocol")},shortfirstname:function(){return a.Object.getValue(b.data,"shortfirstname")},shortuserid:function(){return a.Object.getValue(b.data,"shortuserid")},status:function(){return a.Object.getValue(b.data,"status")},spaceid:function(){return a.Object.getValue(b.data,"spaceid")},test_id:function(){return a.Object.getValue(b.data,"test_id")},userid:function(){return a.Object.getValue(b.data,"userid")},style:function(){return a.Object.getValue(b.data,"style")},toJSON:function(){return{authState:b.authState(),cobrand:b.cobrand(),crumb:b.crumb(),mccrumb:b.mccrumb(),gta:b.gta(),device:b.device(),experience:b.experience(),firstname:b.firstname(),flight:b.flight(),forcecobrand:b.forcecobrand(),guid:b.guid(),host:b.host(),https:b.https(),languagetag:b.languagetag(),property:b.property(),protocol:b.protocol(),shortfirstname:b.shortfirstname(),shortuserid:b.shortuserid(),status:b.status(),spaceid:b.spaceid(),test_id:b.test_id(),userid:b.userid(),style:b.style()}}}},"0.0.1",{requires:["node","querystring-stringify"]}),a.YObj.use("ucs-meta",function(b){b.Lang.isObject(a.Meta)&&a.Meta instanceof b.ucs.Meta||(a.Meta=new b.ucs.Meta(b.one("#yucs-meta")))})}(window.ucs);YUI.add("ucs-disclaimer-seed",function(a){a.namespace("ucs"),a.ucs.DisclaimerSeed={init:function(){var b,c=!1,d=a.one("#yucs-disclaimer")?a.one("#yucs-disclaimer"):a.one("#yucs-disclaimer-md"),e=d.getAttribute("data-property"),f=(d.getAttribute("data-lang"),d.getAttribute("data-dss")),g=(d.getAttribute("data-cu"),d.getAttribute("data-cobrand"),!1),h=!1,i=(a.Cookie.get("DSS"),parseInt((new Date).getTime()/1e3),a.Cookie.getSub("ucs","disclaimer",Number),"desktop"),j="false",k=navigator.userAgent.toLowerCase(),l=a.Cookie.getSub("AO","o")?a.Cookie.getSub("AO","o"):a.Cookie.getSub("AO",'"o'),m=a.Cookie.getSub("AO","u")?a.Cookie.getSub("AO","u"):a.Cookie.getSub("AO",'"u'),n=(a.Cookie.getSub("AO","t")?a.Cookie.getSub("AO","t"):a.Cookie.getSub("AO",'"t'),a.Cookie.getSub("AO","dnt")?a.Cookie.getSub("AO","dnt"):a.Cookie.getSub("AO",'"dnt'));this.jsPath="https://s.yimg.com/zz/combo?kx/yucs/uh3/disclaimer/388/js/disclaimer-min.js",this.cssPath="https://s.yimg.com/zz/combo?kx/yucs/uh3/disclaimer/388/css/disclaimer-min.css",a.one("#yucs-disclaimer")?i=a.one("#yucs-disclaimer").getAttribute("data-device"):a.one("#yucs-disclaimer-md")&&(i=a.one("#yucs-disclaimer-md").getAttribute("data-device")),j=i&&(i.match(/smartphone/gi)||i.match(/tablet/gi)),"frontpage"===e&&(i.match(/smartphone/gi)||i.match(/tablet/gi))&&(a.one("#OpenMenuBtn")&&a.one("#OpenMenuBtn").on("touchstart",this.setKillswitch,this),a.one("#OpenWidgetsBtn")&&a.one("#OpenWidgetsBtn").on("touchstart",this.setKillswitch,this)),f&&"0"===f&&k.indexOf("version")>=0&&k.indexOf("crios")<0&&(b=k.match(/version\/(\d+)/),i.match(/desktop/gi)&&b&&b[1]&&parseInt(b[1])<8?this.loadCSS(this.cssPath,this.jsPath):j&&a.UA.ios&&a.UA.ios<8&&this.loadCSS(this.cssPath,this.jsPath)),n&&(n=n.replace('"',""),n=n.replace("'",""),n=parseInt(n)),m&&(m=m.replace('"',""),m=m.replace("'",""),m=parseInt(m)),l?(l=l.replace('"',""),l=l.replace("'",""),l=parseInt(l)):c=!0,c=!0,g=!0,n&&1===n&&g===!0&&h===!1&&(n=a.Cookie.get("AO",{raw:!0}),n=n.replace("o=1","o=0"),a.Cookie.set("AO",n,{expires:new Date("January 12, 2025"),path:"/",domain:"yahoo.com",raw:!0}))},setKillswitch:function(){a.one("#yucs-disclaimer").setAttribute("data-killswitch","1")},loadCSS:function(b,c){var d={onSuccess:function(){this.loadJS(c)},onFailure:function(){this.loadCSS(b)},context:this};a.Get.css(b,d)},checkTimer:function(){var b=a.Cookie.getSub("ucs","disclaimerts",Number),c=(new Date).getTime();return c>=b||null===b?!0:!1},loadJS:function(b){var c={onFailure:function(){this.loadJS(b)},context:this};a.Get.script(b,c)}}},"1.0",{requires:["node","cookie"]}),function(){if("undefined"!=typeof ucs&&ucs.YObj)ucs.YObj.use("ucs-disclaimer-seed",function(a){a.ucs.DisclaimerSeed.init()});else{var a=document.getElementById("yUnivHead"),b=a&&"srp"===a.getAttribute("data-property")?Y:YUI();b.use("ucs-disclaimer-seed",function(a){a.ucs.DisclaimerSeed.init()})}}();YUI.add("ucs-profile-menu",function(d){var e="ucs:profileMenuShow",b="ucs:menuNavShow",a=d.Lang.trimRight,c;d.namespace("ucs.ProfileMenu");d.ucs.ProfileMenu=function(f){this.profile=f;this.name=this.profile.one(".yuhead-name");this.greeting=this.profile.one(".yuhead-name-greeting")||"";this.optimizedNameCache={};this.menuId=this.profile.getAttribute("id");this.init();};d.ucs.ProfileMenu.prototype={init:function(){this.publishEvents();this.initEventHandlers();this.optimizeNameLength();},optimizeNameLength:function(){var g=9,h="65px",f=this.name?this.name.get("text").length:0,i=this.greeting?this.greeting.get("text").length:0;if(this.name&&d.one(".ua-ie6, .ua-ie5")&&(f>g)){this.name.setStyle("width",h);this.name.get("parentNode").setStyle("width",h);}},publishEvents:function(){d.augment(d.ucs.ProfileMenu,d.EventTarget,null,null,{});this.publish(e,{broadcast:2,emitFacade:true});},initEventHandlers:function(){var f=this;d.Global.on(b,this.handleMenuNavShow,this);},handleMenuNavShow:function(f){if(f&&f.menuid===this.menuId){if(d.UA.ie===8){this.profile.one("#yucs-profile-cont").setStyle("maxHeight","100%");}this.fire(e);}}};},"1.0",{requires:["node","event","event-custom","event-resize"]});(function(){ucs.YObj.use("ucs-profile-menu",function(c){var b=c.one("#yucs-profile"),a;if(b){a=new c.ucs.ProfileMenu(b);}});}());YUI.add("ucs-usermenu-notif",function(a){a.namespace("ucs.UserMenuNotif");var b="ucs:userMenuShow",c="ucs:userMenuItemClick",d="ucs:userMenuNotifShow",e="ucs:userMenuNotifHide",f="yucs-hide",g='{separatorTop}<li class="{isDisabled} {isActive} {menuClass}"><div><a target="{target}" {actionData} href="{url}" {disabledAria}>{icon}{menuText}</a></div></li>{separatorBottom}',h='{separatorTop}<li class="{isDisabled} {isActive} {menuClass}"><div><a href="#" data-customevt="true" {actionData} {disabledAria} {checkedAria}>{icon}{menuText}</a></div></li>{separatorBottom}',i='<span class="yucs-separator" role="presentation"></span>',j="click",k="ul",l="http://l.yimg.com/a/lib/ush/icon.gif",m="https://s.yimg.com/lq/lib/ush/icon.gif";a.ucs.UserMenuNotif=function(b){b.removeClass("yucs-um-activate"),this.menuContainer=b.ancestor("div"),this.previewPanel=a.one("#yucs-profile_inner"),this.PANEL_OFFSET=30,this.PANEL_OFFSET_Y=3,this.headerNode=a.one("#yucs"),this.profileNode=this.headerNode.one(".yucs-profile"),this.showMenuYlt=this.previewPanel.getAttribute("data-yltmenushown"),a.ucs.UserMenuNotif.superclass.constructor.apply(this,[this.menuContainer,{panelSelector:"#yucs-profile_inner",enableClick:!0,openDelay:0}]),this._initCustomEvents()},a.extend(a.ucs.UserMenuNotif,a.ucs.MenuUtils,{_initCustomEvents:function(){this.publish(b,{broadcast:2,emitFacade:!0}),this.publish(d,{broadcast:2,emitFacade:!0}),this.publish(e,{broadcast:2,emitFacade:!0}),this.publish(c,{broadcast:2,emitFacade:!0}),a.Global.on("ucs:userMenuAriaHelper",this._ariaHelper,this),a.Global.on("ucs:userMenuReshow",this._showMenu,this),a.Global.on("ucs:userMenuItems",this._handleUserMenuItems,this,{location:"bottom",menuType:"minty-um-item"}),this.menu.delegate(j,this._handleMenuItemClick,"li.minty-um-item a",this)},_sendBeacon:function(a){var b=new Image;b.height=0,b.width=0,b.src="https://geo.yahoo.com/t"+a},_hideMenu:function(){this.previewPanel&&!this.previewPanel.hasClass("yucs-hide")&&this.fire(e),a.ucs.UserMenuNotif.superclass._hideMenu.apply(this,arguments)},_showMenu:function(){a.ucs.UserMenuNotif.superclass._showMenu.apply(this,arguments),this.fire(b),this.fire(d),this.previewPanel&&this.previewPanel.set("scrollTop",0),this._sendBeacon(this.showMenuYlt),this._setPosition()},_ariaHelper:function(){a.ucs.UserMenuNotif.superclass._refreshAria.apply(this,arguments)},_showMenuItems:function(){this.menu.all("li").removeClass(f),this.menu.all("span.separator").setStyle("display","block")},_setPosition:function(){this.avatarIcon=this.profileNode.one(".yucs-avatar");var b,c=this.previewPanel.one(".yucs-dock"),d=c&&c.get("offsetWidth"),e=this.headerNode.get("offsetHeight"),f=Math.round(this.avatarIcon.getX()),g=this.headerNode.get("offsetWidth"),h=this.previewPanel.get("offsetWidth"),i=this.headerNode.one(".yucs-mail_link");this.previewPanel.setX(this.rtl?Math.round(this.headerNode.getX()+this.PANEL_OFFSET):!i&&f+h>g?Math.round(this.headerNode.getX()+g-h-20):f-(i?75:85)),this.panel.setY(a.one("#search_hot_keyword_block")?this.headerNode.getY()+e-this.PANEL_OFFSET_Y-30:e>0?this.headerNode.getY()+e-this.PANEL_OFFSET_Y:this.avatarIcon.getY()+31),c&&(b=this.avatarIcon.get("offsetWidth")/2-d/2,c.setX(this.avatarIcon.getX()+b))},_handleKeyup:function(a){27===a.keyCode||9===a.keyCode?(this.menu.one("a").focus(),this._hideMenu()):40!==a.keyCode||this.keyedup||(this.panel.one("a")&&(this._showMenu(a),this.panel.one("a").focus()),this.keyedup=!0)},_handleUserMenuItems:function(b,c){a.log("user menu items received");var d="bottom",e="minty-user-item";if(b.menuGroups&&b.menuGroups.length){c&&c.location&&(d=c.location),c&&c.menuType&&(e=c.menuType);var f=b.menuGroups,g=this.menu.one(k);b.reset&&g&&g.all("."+e).each(function(a){a.remove(!0)}),f.length>0&&this._addMenuGroups(f,d,!1,e)}},_handleMenuItemClick:function(b){a.log("user menu item click");var d,e,f,g;if(d=b.target,d=d.ancestor("a",!0),e=d.getAttribute("data-mad"),f=d.getAttribute("data-customevt"),g=d.ancestor("li").hasClass("disabled"))return void b.halt();if(f&&b.preventDefault(),!g){var h={actionData:e};this.fire(c,h)}},_addMenuGroups:function(a,b,c,d){var e,f=this.menu.one(k),g="";e=f.get("children")._nodes.length?!0:!1;for(var h=0,i=a.length;i>h;h++){var j=a[h].length;"bottom"===b?a[h][0].separatorTop=!0:(i-1>h||e)&&(a[h][j-1].separatorBottom=!0),g+=this._addMenuGroup(a[h],c,d)}"bottom"===b?f.append(g):f.prepend(g),""!==g&&f.setStyle("width",f.get("offsetWidth")+10+"px")},_addMenuGroup:function(a,b,c){for(var d="",e=0,f=a.length;f>e;e++)"themes"!==a[e].actionData&&(b?(a[e].isDebugItem=!0,a[e].menuClass=c+" debug-item"):(a[e].isDebugItem=!1,a[e].menuClass=c+" minty-item"),d+=this._addMenuItem(a[e],c));return d},_addMenuItem:function(b,c){var d="";if(b.checkedAria=b.isActive?'aria-checked="true"':"",b.disabledAria=b.isDisabled?'aria-disabled="true"':"",b.actionData&&b.actionData.match(/^om:/))return d;switch(b.actionType){case"link":d=a.substitute(g,b,this._processTemplateValue);break;case"customEvent":d=a.substitute(h,b,this._processTemplateValue)}return d&&(d=b.isDebugItem?d.replace(/separator/,"separator debug-item "+c):d.replace(/separator/,"separator minty-item "+c)),d},_processTemplateValue:function(b,c,d){a.log("key = "+b+" value = "+c+" meta_data = "+d);var e="",f="https:"===document.location.protocol?m:l;switch(b){case"icon":void 0!==c&&(e="available"===c?'<img src="'+f+'" class="yucs-opi available"/>':"offline"===c?'<img src="'+f+'" class="yucs-opi offline"/>':"invisible"===c?'<img src="'+f+'" class="yucs-opi invisible"/>':"busy"===c?'<img src="'+f+'" class="yucs-opi busy"/>':"idle"===c?'<img src="'+f+'" class="yucs-opi idle"/>':'<img src="'+c+'" />');break;case"separatorTop":c&&(e=i);break;case"separatorBottom":c&&(e=i);break;case"actionData":c&&(e='data-mad="'+c+'"');break;case"isDisabled":c&&(e="disabled");break;case"isActive":c&&(e="sp active");break;case"checkedAria":e=c;break;default:e=c}return e}}),a.augment(a.ucs.UserMenuNotif,a.EventTarget)},"1.0",{requires:["oop","node","event-custom","substitute","ucs-menu-utils"]}),function(){ucs.YObj.use("node","ucs-usermenu-notif",function(a){var b,c=a.one("#yucs-menu_link_profile.yucs-um-activate");c&&(b=new a.ucs.UserMenuNotif(c))})}();YUI.add("jsonp-super-cached",function(a){a.namespace("jsonpsupercached"),YUI.Env.JsonpSuperCached||(YUI.Env.JsonpSuperCached={}),YUI.Env.JsonpSuperCached.services||(YUI.Env.JsonpSuperCached.services={});var b=YUI.Env.JsonpSuperCached.services;a.jsonpsupercached.getData=function(c){var d={},e=c.url||"",f=c.serviceName||"service",g=c.callbackName||"callback",h=(c.broadcast||!1,c.onSuccess||function(){});f="_"+f+"_"+g,d.timeout=c.timeout,d.onTimeout=c.onTimeout||null,d.onFailure=c.onFailure||null,d.async=!0;var i=-1===e.indexOf("?")?"?":"&",j=e+i+g+"=YUI.Env.JsonpSuperCached."+f,k=c.args||[],l=c.context||null;a.jsonpsupercached.get=YUI.Env.JsonpSuperCached.get||a.Get,b[j]||(b[j]={dataAvailable:!1,requestInProgress:!1,callbacksQueue:[]});var m=b[j];m.dataAvailable?h(m.data):(m.callbacksQueue.push(h),m.requestInProgress||(YUI.Env.JsonpSuperCached[f]=function(a){m.data=a,m.dataAvailable=!0;for(var b=m.callbacksQueue,c=0,d=b.length;d>c;c++){var e=b.pop();e.apply(l,[a].concat(k))}},m.requestInProgress=!0,a.jsonpsupercached.get.script(j,d)))}},"0.0.1");YUI.add("ucs-avatar",function(a){var b="https://s.yimg.com/dh/ap/social/profile/profile_b32.png",c="";a.namespace("ucs"),a.ucs.Avatar=function(a){this.container=a,this.crumb=this.container.getAttribute("data-crumb"),this.guid=this.container.getAttribute("data-guid"),this.profile=this.container.getAttribute("data-prof"),this.username=this.container.getAttribute("data-user"),this._data=this.container.getData(),this.init()},a.ucs.Avatar.prototype={init:function(){this.container.removeClass("yucs-av-activate"),this.img=a.Node.create('<img width="28" height="28" alt="'+this.username+" "+this.profile+'">'),this._fetchData()},_fetchData:function(){var b='select * from social.profile.image where guid = "'+this.guid+'" and size="32x32" and imgssl=1;',c="https://ucs.query.yahoo.com/v1/console/yql?"+a.QueryString.stringify({q:b,format:"json",crumb:this.crumb,_maxage:900});a.jsonpsupercached.getData({url:c,serviceName:"avatar",onSuccess:a.bind(this._buildMarkup,this)})},_renewTCookie:function(){var b,d,e=(new Date).getTime();return d=a.Cookie.getSub("ucs","tr",Number),(null===d||e>=d)&&(b=new Image,b.src=c,a.Cookie.setSub("ucs","tr",e+864e5,{expires:new Date((new Date).setYear((new Date).getFullYear()+1)),path:"/",domain:"yahoo.com"})),null},_buildMarkup:function(d){var e;d.query&&d.query.results&&"0"!==d.query.results&&d.query.results.image&&(!d.query.results.image.imageUrl.match(/profile_/)||d.query.results.image.byImageUrl)?d.query.results.image.byImageUrl?e=d.query.results.image.byImageUrl:(e=d.query.results.image.imageUrl,"https:"===window.location.protocol&&(e=e.replace(/^http:\/\/l\.yimg/,"https://s.yimg"),e=e.replace(/^http:\/\/socialprofiles\.zenfs/,"https://socialprofiles.zenfs"))):e=b,this.img.on("load",function(a){this.img.addClass("yucs-avatar"),this.container.setContent(this.img)},this),this.img.setAttribute("src",e),d&&d.query&&d.query.results&&d.query.results.image&&d.query.results.image.beaconUrl&&(c=d.query.results.image.beaconUrl,"mail"===this._data.property||"1"===this._data.bucket||"3"===this._data.bucket?("3"===this._data.bucket&&(c=c.replace("https://login.yahoo.com/config/login?noPrompt=1&.done=",""),c=decodeURIComponent(c)),this._renewTCookie()):a.on("unload",a.bind(this._renewTCookie,this),this))}}},"1.0",{requires:["node","cookie","event","jsonp-super-cached","querystring-stringify"]}),function(){ucs.YObj.use("node","ucs-avatar",function(a){var b,c=a.one("#yucs").one("span.yucs-avatar.yucs-av-activate");c&&(b=new a.ucs.Avatar(c))})}();YUI.add("ucs-mailcount-v2",function(a){a.namespace("ucs"),a.ucs.MailCount=function(a){this.mailcount=a,this.mailPreview=null,this.init()},a.ucs.MailCount.prototype={init:function(){this.property=a.one("#yucs").getAttribute("data-property"),this.crumb=this.mailcount.getAttribute("data-crumb"),this.maxCountDisplay="99+",this.mailUrl=this._getMailCountURI(),this.count=0,this.mailCountTimer=null,this.mouseMoveHandle=null,this.keypressHandle=null,this.pollingDurationTimer=null,this.pollingDuration=6e5,this.mailCountPollingInterval=12e4,a.UA.ie?(a.one("document").on("focus",this._handleWindowFocus,this),a.one("document").on("blur",this._handleCancelMailCountFetch,this)):(a.one("window").on("focus",this._handleWindowFocus,this),a.one("window").on("blur",this._handleCancelMailCountFetch,this)),this._initPollingTimer(),this._getMailCount(),this.mailcount.removeClass("yucs-activate")},_getMailCountURI:function(){var b=this.mailcount,c=b.getAttribute("data-uri-path"),d=a.QueryString.stringify({crumb:this.crumb,format:"json",q:'SELECT decos.counts.unseen FROM ymail.decos WHERE mailboxes.id IN (SELECT mailboxes.id FROM ymail.mailboxes WHERE mailboxes.isPrimary="true" AND ymreqid="__YMREQID__") AND decos.id="FTI" AND decos.counts.accountId=1 AND ymreqid="__YMREQID__"'});return"https://"+c+"?"+d+"&callback={callback}"},_processMailCount:function(a){if(a&&a.query&&a.query.results&&a.query.results.result&&a.query.results.result.decos&&a.query.results.result.decos.counts){var b=a.query.results.result.decos.counts.unseen||0;this.count=b,this.mailPreview&&this.mailPreview.setMailCount(this.count),b>0?(b>9?this.mailcount.get("parentNode").addClass("yucs-lgnewmail"):this.mailcount.get("parentNode").addClass("yucs-newmail"),b>99&&(b=this.maxCountDisplay),this.mailcount.one(".yucs-alert-count").set("innerHTML",b),this.mailcount.removeClass("yucs-hide")):(this.mailcount.addClass("yucs-hide"),this.mailcount.get("parentNode").removeClass("yucs-newmail"),this.mailcount.get("parentNode").removeClass("yucs-lgnewmail"))}},_sendMailCountRequest:function(b,c,d){this.mailCountTimer=a.later(c,this,function(){this._service=new a.JSONPRequest(b.replace(/__YMREQID__/g,window.ucs.ymreqid()),{on:{success:a.bind(this._processMailCount,this),timeout:function(b){a.log("[ERROR] Fail to send mail count request.")}},timeout:3e3,end:this.requestInProgress=!1}),this._service.send()},null,d)},_getMailCount:function(){this._sendMailCountRequest(this.mailUrl,500,!1),this._sendMailCountRequest(this.mailUrl,this.mailCountPollingInterval,!0)},_initPollingTimer:function(){this.pollingDurationTimer=a.later(this.pollingDuration,this,this._cancelMailCountFetch,null,!1),this.mouseMoveHandle&&this.mouseMoveHandle.detach(),this.keyPressHandle&&this.keyPressHandle.detach()},_handleWindowFocus:function(a){this.mailCountTimer&&this.mailCountTimer.cancel(),this.pollingDurationTimer&&(this.pollingDurationTimer.cancel(),this._initPollingTimer()),this._getMailCount()},_cancelMailCountFetch:function(b){b||(this.mouseMoveHandle=a.one("window").on("mousemove",this._handleWindowFocus,this),this.keyPressHandle=a.one("window").on("keypress",this._handleWindowFocus,this)),this.mailCountTimer&&this.mailCountTimer.cancel()}}},"1.0",{requires:["node","event","jsonp","event-mouseenter","querystring-stringify"]}),function(){ucs.YObj.use("node","ucs-mailcount-v2",function(a){var b=a.one("#yucs").one("span.yucs-activate.yucs-mail-count");b&&"signedout"!==b.getAttribute("data-authstate")&&new a.ucs.MailCount(b)}),window.opener&&window.location.href.match(/ucs_mail_preview_popupsignin=1/)&&(window.opener.location=window.location,window.close())}();YUI.add("ucs-helpmenu",function(a){"use strict";a.namespace("ucs.HelpMenu");var b="ucs:helpMenuShow",c="ucs:helpDebugMenuShow",d="ucs:helpMenuItemClick",e="ucs:helpDebugMenuItemClick",f="ucs:utilityMenuShow",g="ucs:utilityMenuItemClick",h='{separatorTop}<li class="{isDisabled} {isActive} {menuClass}"><div><a target="{target}" {actionData} href="{url}" {disabledAria}>{icon}{menuText}</a></div></li>{separatorBottom}',i='{separatorTop}<li class="{isDisabled} {isActive} {menuClass}"><div><a href="#" data-customevt="true" {actionData} {disabledAria} {checkedAria}>{icon}{menuText}</a></div></li>{separatorBottom}',j='<span class="yucs-separator" role="presentation"></span>',k="http://l.yimg.com/a/lib/ush/icon.gif",l="https://s.yimg.com/lq/lib/ush/icon.gif",m=YUI.namespace("YHELP.config"),n=a.one("#yucs-meta");n&&(m.locale=n.getData("languagetag"),m.product=n.getData("property"),n.getData("firstname")&&(m.user=n.getData("firstname"))),m.alignNode=a.one("#yucs"),a.ucs.HelpMenu=function(b){this.menuContainer=b.ancestor("div"),this.shown=!1,this.helpLink=a.one("#yucs-help_button"),this.helpLink.setAttribute("data-mad","true"),this.previewPanel=a.one("#yucs-help_inner"),this.ylt=this.previewPanel.getAttribute("data-yltmenushown"),this.PANEL_OFFSET=30,this.PANEL_OFFSET_Y=3,this.headerNode=a.one("#yucs"),a.ucs.HelpMenu.superclass.constructor.apply(this,[this.menuContainer,{panelSelector:"#yucs-help_inner"}]),this._initCustomEvents(),b.removeClass("yucs-hm-activate")},a.extend(a.ucs.HelpMenu,a.ucs.MenuUtils,{_initCustomEvents:function(){this.publish(b,{broadcast:2,emitFacade:!0}),this.publish(c,{broadcast:2,emitFacade:!0}),this.publish(d,{broadcast:2,emitFacade:!0}),this.publish(e,{broadcast:2,emitFacade:!0}),this.publish(f,{broadcast:2,emitFacade:!0}),this.publish(g,{broadcast:2,emitFacade:!0}),a.Global.on("ucs:utilityMenuItems",this._handleHelpMenuItems,this,{location:"top",menuType:"minty-utility-item"}),a.Global.on("ucs:helpMenuItems",this._handleHelpMenuItems,this,{location:"bottom",menuType:"minty-help-item"}),a.Global.on("ucs:helpDebugMenuItems",this._handleHelpDebugMenuItems,this,{location:"bottom",menuType:"minty-debug-item"}),a.one("#yhelp-link")&&a.one("#yhelp-link").on("click",function(a){YUI.YHELP.config.uhClickEvent=a,YUI.YHELP.initiate()})},_showMenu:function(d){this.previewPanel.hasClass("yucs-hide")&&this._sendBeacon(),a.ucs.HelpMenu.superclass._showMenu.apply(this,arguments),"mail"===a.one("#yucs").getAttribute("data-property")&&this.menu.all("li").addClass("yucs-hide"),d&&(d.ctrlKey||d.metaKey)&&d.shiftKey?(this.fire(c),this.shown===!1?a.later(4e3,this,function(){this.fire(c)}):this._showDebugMenuItems()):(this.fire(b),this.fire(f),this.shown===!1?a.later(4e3,this,function(){this.fire(b),this.fire(f)}):this._showMenuItems()),this._setPosition()},_showDebugMenuItems:function(){this.shown=!0,this.menu.all("li").addClass("yucs-hide"),this.menu.all("span.minty-item").setStyle("display","none"),this.menu.all("li.debug-item").removeClass("yucs-hide"),this.menu.all("span.debug-item").setStyle("display","block")},_showMenuItems:function(){this.shown=!0,this.menu.all("li").removeClass("yucs-hide"),this.menu.all("span.minty-item").setStyle("display","block"),this.menu.all("li.debug-item").addClass("yucs-hide"),this.menu.all("span.debug-item").setStyle("display","none"),this._destructAria(),this._initAria()},_setPosition:function(){this.mailIcon=a.one("#yucs-help_button");var b,c=this.previewPanel.one(".yucs-dock"),d=c&&c.get("offsetWidth"),e=this.headerNode.get("offsetHeight");this.rtl?this.previewPanel.setX(Math.round(this.headerNode.getX()+this.PANEL_OFFSET)):a.one("#yucs-country")||this.previewPanel.setX(Math.round(this.headerNode.getX()+this.headerNode.get("offsetWidth")-this.panel.get("offsetWidth")-2)),this.panel.setY(a.one("#search_hot_keyword_block")?this.headerNode.getY()+e-this.PANEL_OFFSET_Y-30:e>0?this.headerNode.getY()+e-this.PANEL_OFFSET_Y:this.mailIcon.getY()+this.mailIcon.get("offsetHeight")+3),c&&(b=this.mailIcon.get("offsetWidth")/2-d/2,c.setX(this.mailIcon.getX()+b))},_handleKeyup:function(a){27===a.keyCode||9===a.keyCode?(this.menu.one("a").focus(),this._hideMenu()):40!==a.keyCode||this.keyedup||(this.panel.one("a")&&(this._showMenu(a),this.panel.one("a").focus()),this.keyedup=!0)},_handleHelpMenuItems:function(b,c){a.log("help menu items received");var d,e,f=c&&c.location||"top",g=c&&c.menuType||"minty-help-item";b.menuGroups&&b.menuGroups.length&&(d=b.menuGroups,e=this.menu.one("#yuhead-help-panel"),b.reset&&e&&e.all("."+g).remove(!0),this._addMenuGroups(d,f,!1,g),this._showMenuItems())},_handleHelpDebugMenuItems:function(b){a.log("help menu items received");var c,d;b.menuGroups&&b.menuGroups.length&&(c=b.menuGroups,d=this.menu.one("#yuhead-help-panel"),b.reset&&d&&d.all(".minty-debug-item").remove(!0),this._addMenuGroups(c,"top",!0,"minty-debug-item"),this._showDebugMenuItems())},_handleMenuItemClick:function(b){a.log("help menu item click");var c,f,h,i;if(c=b.target,c=c.ancestor("a",!0),f=c.getAttribute("data-mad"),h=c.getAttribute("data-customevt"),i=c.ancestor("li").hasClass("disabled"))return void b.halt();if(h&&b.preventDefault(),!i){var j={actionData:f},k=c.ancestor("li");k.hasClass("debug-item")?this.fire(e,j):k.hasClass("minty-utility-item")?this.fire(g,j):this.fire(d,j)}},_addMenuGroups:function(a,b,c,d){var e,f,g,h=this.menu.one("#yuhead-help-panel"),i="",j=a.length;for(e=h.hasChildNodes(),f=0;j>f;f++)g=a[f].length,"bottom"===b?f>0&&(a[f][0].separatorTop=!0):(j-1>f||e)&&(a[f][g-1].separatorBottom=!0),i+=this._addMenuGroup(a[f],c,d);h.ancestor("div.yucs-yql_loading")&&h.ancestor("div.yucs-yql_loading").removeClass("yucs-yql_loading"),"bottom"===b?h.append(i):h.prepend(i),h.one(".yucs-keepatbottom")&&h.all(".yucs-keepatbottom").each(function(a){h.append(a)})},_addMenuGroup:function(a,b,c){var d,e="",f=a.length;for(d=0;f>d;d++)b?(a[d].isDebugItem=!0,a[d].menuClass=c+" debug-item"):(a[d].isDebugItem=!1,a[d].menuClass=c+" minty-item"),e+=this._addMenuItem(a[d],c);return e},_addMenuItem:function(b,c){var d="";switch(b.checkedAria=b.isActive?'aria-checked="true"':"",b.disabledAria=b.isDisabled?'aria-disabled="true"':"",b.actionType){case"link":d=a.substitute(h,b,this._processTemplateValue);break;case"customEvent":d=a.substitute(i,b,this._processTemplateValue)}return d&&(d=b.isDebugItem?d.replace(/separator/,"separator debug-item "+c):d.replace(/separator/,"separator minty-item "+c)),d},_processTemplateValue:function(b,c,d){a.log("key = "+b+" value = "+c+" meta_data = "+d);var e="",f="https:"===document.location.protocol?l:k;switch(b){case"icon":void 0!==c&&(e="available"===c?'<img src="'+f+'" class="yucs-opi available"/>':"offline"===c?'<img src="'+f+'" class="yucs-opi offline"/>':"invisible"===c?'<img src="'+f+'" class="yucs-opi invisible"/>':"busy"===c?'<img src="'+f+'" class="yucs-opi busy"/>':"idle"===c?'<img src="'+f+'" class="yucs-opi idle"/>':'<img src="'+c+'" />');break;case"separatorTop":c&&(e=j);break;case"separatorBottom":c&&(e=j);break;case"actionData":c&&(e='data-mad="'+c+'"');break;case"isDisabled":c&&(e="disabled");break;case"isActive":c&&(e="sp active");break;case"checkedAria":e=c;break;default:e=c}return e},_sendBeacon:function(){this.ylt&&window.ucs._sendBeacon(this.ylt+"?t="+Math.random())}}),a.augment(a.ucs.HelpMenu,a.EventTarget)},"1.0",{requires:["oop","node","event-custom","substitute","ucs-menu-utils"]}),function(){window.ucs.YObj.use("node","ucs-helpmenu",function(a){var b,c=a.one("#yucs").all(".yucs-hm-activate");c.each(function(c){b=new a.ucs.HelpMenu(c)})})}();